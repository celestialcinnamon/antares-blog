<article class="post <%- (!!is_featured)? 'post--featured':'' %>">
    <!-- Title -->
    <h3 class="post__title">
        <a href="<%- config.root %><%- item.path %>">
            <%- item.title %>
        </a>
    </h3>
    <!-- Date and Author -->
    <% 
    if(item.author) { %>
        <div class="flex">
            <figure class="author">
                <%- image_tag(item.author.image, {alt: item.author.name, class: 'author__image'}) %>
                <figcaption class="author__meta">
                    <cite class="author__name"><%= item.author.name %></cite>
                    <time datetime="<%= new Date(item.date).toJSON() %>" class="article-date"><%= item.date.format(config.date_format) %></time>
                </figcaption>
            </figure>
        </div>
    <% } %>
    <!-- Content -->
    <%- item.excerpt || item.content %>
    <!-- Only display the Read More link if we are displaying an excerpt -->
    <% if(item.excerpt) { %>
        <p>
            <a href="<%- config.root %><%- item.path %>">
                <%= theme.excerpt_link %>
            </a>
        </p>
    <% } %>
    
<% if (item.tags && item.tags.length){ %>
    <%
        var tags = [];
        item.tags.forEach(function(tag){
            tags.push('<a class="tag" href="' + config.root + tag.path + '">#' + tag.name + '</a>');
        });
    %>
    <section class="flex">
        <%- tags.join(' ') %>
    </section>
    <% } %>
<% 
    const categories = item.categories.data
    if(categories && categories.length > 0) { %>
    <%
        const categories_html = categories.map(tag => `<a style="padding: 0 0.75ch;" class="category" href="${config.root}${tag.path}">${tag.name}</a>`)
    %>
    <section class="flex" style="margin-top: 1rem;">
        <span style="padding-right: 1ch;">Filed under</span>
        <%- categories_html.join('|');  %>
    </section>
<% } %>
    
</div>
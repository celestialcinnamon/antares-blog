<article class="post <%- (!!is_featured)? 'post--featured':'' %> <%- (is_home())? 'post--hoverable':'' %>">
    <!-- Title -->
    <% 
        const topMin = 0;
        const topMax = 50;
        const bottomMin = 51;
        const bottomMax = 100;

        const yPosition_1 = Math.floor(Math.random() * (topMax - topMin + 1)) + topMin;
        const yPosition_4 = Math.floor(Math.random() * (bottomMax - bottomMin + 1)) + bottomMin;

        const yPosition_2 = Math.floor(Math.random() * (topMax - topMin + 1)) + topMin;
        const yPosition_3 = Math.floor(Math.random() * (bottomMax - bottomMin + 1)) + bottomMin;
    %>
    <h3 class="post__title post__title--with-bg">
        <a href="<%- config.root %><%- item.path %>">
            <span class="background-decoration" style="clip-path: polygon(
                0 <%- yPosition_1 %>%,
                100% <%- yPosition_2 %>%,
                100% <%- yPosition_3 %>%,
                0 <%- yPosition_4 %>%)
            "></span>
            <%- item.title %>
        </a>
    </h3>
    <!-- Date and Author -->
    <% 
    if(item.author) { %>
        <div class="flex">
            <figure class="author">
                <%- image_tag(item.author.image, {alt: item.author.name, class: 'author__image'}) %>
                <figcaption class="author__meta">
                    <cite class="author__name"><%= item.author.name %></cite>
                    <time datetime="<%= new Date(item.date).toJSON() %>" class="article-date"><%= item.date.format(config.date_format) %></time>
                </figcaption>
            </figure>
        </div>
    <% } %>
    <!-- Content -->
    <% if(with_excerpt) { %>
    <section class="post__excerpt">
        <%- item.excerpt || item.content %>
    </section>
    <% } %>
    
<% if (item.tags && item.tags.length){ %>
    <%
        var tags = [];
        item.tags.forEach(function(tag){
            tags.push('<a class="tag" href="' + config.root + tag.path + '">#' + tag.name + '</a>');
        });
    %>
    <section class="flex">
        <%- tags.join(' ') %>
    </section>
    <% } %>
<% 
    const categories = item.categories.data
    if(categories && categories.length > 0) { %>
    <%
        const categories_html = categories.map(tag => `<a style="padding: 0 0.75ch;" class="category" href="${config.root}${tag.path}">${tag.name}</a>`)
    %>
    <section class="flex" style="margin-top: 1rem;">
        <span style="padding-right: 1ch;">Filed under</span>
        <%- categories_html.join('|');  %>
    </section>
<% } %>
    
</div>
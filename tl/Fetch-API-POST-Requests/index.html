<!DOCTYPE html>
<html lang="tl" class="dark">


<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Fetch API: POST Requests</title>
  
  <meta name="description" content="Sa pa­nga­la­wang ba­ha­gi ng Fetch API se­ries, ta­la­ka­yin na­man na­tin ang pag­se-send ng POST re­quests sa ser­ver ga­mit ang Fetch API.">
  <meta name="author" content="Francis Rubio &lt;francoisoibur21@gmail.com&gt;">
  
  <meta name="apple-mobile-web-app-title" content="Antares">
  <meta name="application-name" content="Antares">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="msapplication-TileImage" content="/antares-blog/images/mstile-144x144.png?v=yyL3E0AWom">
  <meta name="msapplication-config" content="/antares-blog/images/browserconfig.xml?v=yyL3E0AWom">
  <meta name="theme-color" content="#bbbbbb">

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="Sa pa­nga­la­wang ba­ha­gi ng Fetch API se­ries, ta­la­ka­yin na­man na­tin ang pag­se-send ng POST re­quests sa ser­ver ga­mit ang Fetch API.">

  

  <!-- Open Graph data -->
  <meta property="og:title" content="Fetch API: POST Requests">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://celestialcinnamon.github.io/antares-blog/tl/Fetch-API-POST-Requests/">
  <meta property="og:image" content="http://celestialcinnamon.github.io//antares-blog/images/default-cover.png">
  <meta property="og:description" content="Sa pa­nga­la­wang ba­ha­gi ng Fetch API se­ries, ta­la­ka­yin na­man na­tin ang pag­se-send ng POST re­quests sa ser­ver ga­mit ang Fetch API."> 
  
  <link href="/antares-blog/css/antares.css" rel="stylesheet" media="only screen">
  <link href="/antares-blog/css/print.css" rel="stylesheet" media="only print">
  
  
  
  

  <!-- TODO: Uncomment these links -->

  <noscript>
    <link media="screen" href="https://fonts.googleapis.com/css?family=Inconsolata&display=swap" rel="stylesheet">
  </noscript>

  <!--
    HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries
  -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->


  <!-- Favicon and PWA theme -->
  <link rel="apple-touch-icon" sizes="180x180" href="/antares-blog/images/apple-touch-icon.png?v=yyL3E0AWom">
  <link rel="icon" type="image/png" sizes="32x32" href="/antares-blog/images/favicon-32x32.png?v=yyL3E0AWom">
  <link rel="icon" type="image/png" sizes="194x194" href="/antares-blog/images/favicon-194x194.png?v=yyL3E0AWom">
  <link rel="icon" type="image/png" sizes="192x192" href="/antares-blog/images/android-chrome-192x192.png?v=yyL3E0AWom">
  <link rel="icon" type="image/png" sizes="16x16" href="/antares-blog/images/favicon-16x16.png?v=yyL3E0AWom">
  <link rel="manifest" href="/antares-blog/images/site.webmanifest?v=yyL3E0AWom">
  <link rel="mask-icon" href="/antares-blog/images/safari-pinned-tab.svg?v=yyL3E0AWom" color="#efaa00">
  <link rel="shortcut icon" href="/antares-blog/images/favicon.ico?v=yyL3E0AWom">
<link rel="stylesheet" href="/antares-blog/css/prism-a11y-dark.css" type="text/css">
<link rel="stylesheet" href="/antares-blog/css/prism-line-numbers.css" type="text/css"></head>

<body class="layout layout--layout">
    
    
    <div class="banner">
  <a href="#main-content" class="navigation__link skiplink sr-only sr-only-focusable">Skip to content</a>
  <header class="banner__header" role="banner">
    <a href="/antares-blog/" class="site-logo" aria-label="Go to home">
      <svg style="transform: scale(2)" width="64" height="64" viewbox="-500 -500 2040 2040" fill="none" xmlns="http://www.w3.org/2000/svg">
        <style>
          * {
            transition: all 300ms;
          }

          #logo-ellipse {
            transform-origin: center;
            transform: scale(2) translate(10%, 13%);
            opacity: 0;
          }

          #logo-path {
            fill: #fd0;
          }

          a:focus #logo-ellipse,
          svg:hover #logo-ellipse {
            transform: none;
            opacity: 1;
          }

          a:focus #logo-path,
          svg:hover #logo-path {
            fill: black;
          }
        </style>
        <ellipse id="logo-ellipse" cx="512.5" cy="464" rx="397.5" ry="401" fill="#FFDD00"/>
        
        <path id="logo-path" d="M293.333 144.667C227.2 153.867 169.467 182.133 124 227.867C73.2 278.933 42.1333 344.8 31.7333 424C29.6 440.4 29.6 494.266 31.7333 510.666C37.3333 553.466 48.8 591.2 66.8 626.666C112.533 716.933 194.933 775.733 293.733 788.666C313.867 791.2 351.333 791.2 370.933 788.666C428.533 781.066 481.466 755.866 523.066 716C530 709.466 536 704 536.533 704C536.933 704 537.333 719.6 537.333 738.666V773.333H746.666V160H534.666V217.733L530.8 214.533C528.666 212.8 522.8 207.867 517.866 203.6C482 173.067 433.066 152.4 379.867 145.333C356.133 142.133 313.733 141.867 293.333 144.667V144.667ZM433.467 327.067C464.4 335.2 489.6 351.2 508.533 374.8C552.266 429.6 549.6 515.733 502.666 567.066C452.266 622.266 353.2 625.466 297.333 573.866C277.867 555.733 264.8 531.866 257.067 500C256 495.2 255.333 484 255.333 467.333C255.333 445.867 255.867 440.267 258.267 430.667C270.933 381.067 306 343.6 353.467 329.2C370.533 324 380.933 322.667 401.333 323.2C416.533 323.6 423.467 324.4 433.467 327.067V327.067ZM689.6 522.266C698.666 526.266 708.133 535.866 712.4 545.066C716.8 554.666 716.533 571.466 711.866 581.466C699.466 607.866 665.466 616.266 643.066 598.533C631.466 589.2 624.133 572.133 626 558.266C630 527.2 661.066 509.733 689.6 522.266V522.266ZM678.666 632C700.933 636.266 716 652.133 716 671.333C715.866 690.933 700 712.8 670.933 733.333C664.133 738.133 658.133 742.133 657.6 742.266C657.066 742.533 656.666 736.266 656.666 728.266C656.533 715.6 656.133 713.066 652.933 706.266C647.733 694.933 640 686.4 625.866 676.533C612.666 667.333 608.533 662.8 607.2 656.133C605.2 646.4 624.4 636.4 652 632.666C668.266 630.4 670.266 630.4 678.666 632Z" fill="black"/>
      </svg>
    </a>
  </header>
  <nav class="banner__navigation">
    <ul class="navigation-list">
      <li class="navigation__item"><a class="navigation__link" href="/antares-blog/archives">Archives</a></li>
      <li class="navigation__item"><a class="navigation__link" href="/antares-blog/downloads">Downloads</a></li>
    </ul>
  </nav>
</div>
    <div data-scroll data-scroll-showCallback="expandNavbar()"  data-scroll-hideCallback="collapseNavbar()"></div>
    
    <main class="layout layout--post" id="main-content">

<article class="post post--article">
  <header>
    <h1>
      <a class="post__title" href="/antares-blog/tl/Fetch-API-POST-Requests/">Fetch API: POST Requests</a>
    </h1>
  </header>
  <div class="post__content">
    <p>Sa pa­nga­la­wang ba­ha­gi ng Fetch API se­ries, ta­la­ka­yin na­man na­tin ang pag­se-send ng <code>POST</code> re­quests sa ser­ver ga­mit ang Fetch API.</p>
<a id="more"></a>
<aside class="side-callout">
    <p>
        Ang post na i­to ay pa­nga­la­wang ba­ha­gi ng Fetch API se­ries. Pa­ra sa u­nang ba­ha­gi, ti­na­la­kay na­tin ang <a href="/antares-blog/tl/Fetch-API-GET-Requests/" title="GET re­quests">GET re­quests</a>.
    </p>
</aside>

<p>Kung ma­ta­tan­da­an n’yo, sa <a href="/antares-blog/tl/Fetch-API-GET-Requests/" title="na­ka­ra­ang post a­bout sa <code>GET</code> re­quests">na­ka­ra­ang post a­bout sa <code>GET</code> re­quests</a>, na­ki­ta na­tin kung pa­ano ku­ku­ha ng da­ta sa ser­ver. Pe­ro pa­a­no kung gus­to na­ting mag-send ng da­ta sa ser­ver? May mga pag­ka­ka­ta­on, ga­ya ng u­ser re­gis­tra­tion, na ka­i­la­ngan na­ting mag-send ng da­ta sa ser­ver. Tra­ba­ho na­man iyan ng <code>POST</code> re­quests.</p>
<h2 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h2><p>Sa e­xample na ito, may e­xample ta­yong ser­ver sa end­point na ito:</p>
<pre class="line-numbers language-http"><code class="language-http"><span class="token header-name keyword">https:</span>//www.example.com/api/user/
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Kadalasan sa mga REST API, iisa lang ang endpoint para sa isang collection ng data. Halimbawa, para sa isang table sa database, <code>tbl_users</code>, may isang endpoint na nakalaan, <code>/api/user/</code>. Lahat ng actions sa <code>tbl_users</code> ay mangyayari lang sa <code>/api/users/</code> na URL. Kung gusto mong kumuha ng data sa <code>tbl_users</code>, magse-send ka ng <code>GET</code> request sa <code>/api/users/</code>. Kung gusto mo namang mag-send ng data, <code>POST</code> request ang ise-send mo. Nag-iiba ang function ng bawat endpoint depende sa type ng request mo, depende sa HTTP verb na ginamit mo sa request.</p>
<aside class="side-note">
    <dl>
        <dt>REST API</dt>
        <dd>
            Representational State Transfer. Isa itong service na nagpo-provide ng access sa isang dataset o database gamit ang HTTP.
        </dd>
    </dl>
</aside>

<p>Sabihin nating iyong REST API na ginagamit natin, <code>www.example.com/api/</code>, ay tumatanggap ng <code>POST</code> requests. Ganito ang tinatanggap niyang format ng data:</p>
<pre class="line-numbers language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"name"</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"first"</span><span class="token operator">:</span> <span class="token string">"First name ng user. Required."</span><span class="token punctuation">,</span>
        <span class="token property">"middle"</span><span class="token operator">:</span> <span class="token string">"Middle name ng user. Optional."</span><span class="token punctuation">,</span>
        <span class="token property">"last"</span><span class="token operator">:</span> <span class="token string">"Surname ng user. Required."</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"email"</span><span class="token operator">:</span> <span class="token string">"E-mail address ng user. Required."</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Sa data na ise-send natin sa server, kailangan na sumusunod sa format na iyan ang data natin.</p>
<p>After natin mag-send ng data, magse-send sa atin pabalik ang server ng response. Sa response na ito, makikita natin kung successful ba o hindi ang data natin. Sa example API natin, kapag successful ang request natin, magse-send sa atin ang server ng response na <code>200 OK</code>. Kung hindi naman, magse-send ito ng response na may error code na alinman sa mga ito:</p>
<ul>
<li><code>400 Bad Request</code> Kapag ganito, ibig sabihin nagkaroon ng error na hindi alam kung saan galing.</li>
<li><code>401 Unauhorized</code> Ibig sabihin, kailangan munang mag-log in bago makapag-send ng request.</li>
<li><code>403 Forbidden</code> Ibig sabihin, hindi ka puwedeng mag-send ng request.</li>
<li><code>408 Request timeout</code> Masyadong matagal ang inabot ng request, either mabagal ang Internet connection, o may problema sa data na sinend mo dahil masyadong malaki</li>
<li><code>409 Conflict</code> May isa pang client na nag-send ng data na kaparehas ng sa iyo.</li>
<li><code>429 Too many requests</code> Sobra na sa limit ang request mo. Nangyayari ito sa mga free trial ng API na may bayad, o kaya kapag sobrang dami mong sinend na request sa isang period of time. Karamihan sa mga API ay may requests per hour na limit.</li>
</ul>
<p>Sa article na ito, hindi natin iha-handle ang errors na iyan, idi-display lang natin sa <code>.status</code>. Pero in real life, kailangan nating i-handle ang mga errors na iyan.</p>
<h2 id="User-Interface"><a href="#User-Interface" class="headerlink" title="User Interface"></a>User Interface</h2><p>So gusto nating makapag-input ang user ng information niya. Tandaan, kailangan natin ng apat na data: first name, middle name, surname, at email address. Kaya gagawa tayo ng HTML form na magsa-submit ng data sa server.</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/actions/submit_data<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form_ajax<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>first_name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>First Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>first_name<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>first_name<span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>middle_name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Middle Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>middle_name<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>middle_name<span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>last_name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Last Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>last_name<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>last_name<span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email_address<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Email Address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email_address<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email_address<span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Submit Data<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>status<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>May form tayo rito na may ID na <code>form_ajax</code>. Nilagyan natin ng ID para magkaroon tayo ng reference sa JavaScript mamaya. Pansinin ang mga attributes ng form. Ang attribute na <code>method=&quot;POST&quot;</code> ang magsasabi na POST request ang ise-send natin, at ang <code>action</code> attribute naman ang magsasabi kung saan natin ipapadala ang data na makukuha sa form. Pansinin na magkaiba ang nakalagay na URL sa <code>action</code> at ang API endpoint na gagamitin natin (<code>http://www.example.com/api/user/</code>).</p>
<p>Actually, itong mga attribute na ito, ang <code>method</code> at <code>action</code> ay ginagamit natin bilang fallback features. Noong wala pang JavaScript, ito talaga ang ginagamit, pero nire-reload kasi nito ang buong page, na ayaw natin kaya tayo gumagamit ng Ajax. Pero kailangan pa rin nating lagyan ng ganitong features ang form natin para sa kapakanan ng mga users na naka-disable ang JavaScript dahil sa kung anumang dahilan. Mahalaga rin ito kasi minsan nagkaka-error sa script natin. May mga times na kapag nagka-error, hindi na gumagana lahat, kaya mahalaga na may fallback features sa form para masigurong mase-send pa rin ang data ng user kahit may error sa scripts.</p>
<p>Ang URL na nakalagay sa <code>action</code> attribute ay isang page. Itong page na ito ang magse-send ng data sa <code>www.example.com</code> just in case hindi gumana iyong ajax. Kaya ikaw ang gagawa ng <code>/actions/submit_data</code> page. Hindi natin iyan tatalakayin dito, sorry. Pero kung marunong kang gumawa ng back-end features, madali lang para sa iyo na i-figure out kung paano iyan gagawin. After all, hindi mo naman aaralin ang ajax kung wala kang kahit kaunting alam sa back end.</p>
<p>May paragraph din tayo, <code>.status</code>. Dito natin idi-display ang magiging status ng request, kasama na ang errors at success notifications.</p>
<h2 id="Retrieval-ng-Data"><a href="#Retrieval-ng-Data" class="headerlink" title="Retrieval ng Data"></a>Retrieval ng Data</h2><p>Sa user interface, may button tayo na magsa-submit ng form kapag na-click ito. Kapag na-submit ang form, magre-reload ang buong page, kaya dapat nating pigilan iyon. Mag-a-attach tayo ng event handler sa form para sa <code>submit</code> event:</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">const</span> form <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'form_ajax'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

form<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'submit'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Ang <code>event.preventDefault()</code> ang pipigil sa page na mag-reload. Kaya hindi magse-send ang data. Pero pansinin na kapag naka-disable ang JavaScript, o may kung anumang mali sa scripts natin, hindi mag-e-execute ang part na ito kaya magre-reload ang page at magse-send pa rin ang data.</p>
<p>Next, kailangan nating makuha ang data na ise-send natin. Kung babalikan natin ang <code>index.html</code>, mapapansin mong lahat ng <code>&lt;input /&gt;</code> tags ay may <code>name</code> attribute. Ito ang gagamitin natin para makuha ang data.</p>
<pre class="line-numbers language-js"><code class="language-js">
<span class="token keyword">const</span> form <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'form_ajax'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

form<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'submit'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> first_name <span class="token operator">=</span> form<span class="token punctuation">[</span><span class="token string">'first_name'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">const</span> middle_name <span class="token operator">=</span> form<span class="token punctuation">[</span><span class="token string">'middle_name'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">const</span> last_name <span class="token operator">=</span> form<span class="token punctuation">[</span><span class="token string">'last_name'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">const</span> email_address <span class="token operator">=</span> form<span class="token punctuation">[</span><span class="token string">'email_address'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Kapag ginagamit natin ang <code>form</code>, puwede itong maging array ng mga <code>&lt;input /&gt;</code> elements. Kapag ginamit natin ang <code>form[&#39;first_name&#39;]</code>, makukuha natin ang textbox na may hawak ng data, hindi ang mismong data. Kaya kailangan nating kunin ang <code>value</code> property ng textbox para makuha iyong mismong input ng user.</p>
<h2 id="Format-ng-Data"><a href="#Format-ng-Data" class="headerlink" title="Format ng Data"></a>Format ng Data</h2><p>Matatandaan na may kailangan tayong sunding format:</p>
<pre class="line-numbers language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"name"</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"first"</span><span class="token operator">:</span> <span class="token string">"First name ng user. Required."</span><span class="token punctuation">,</span>
        <span class="token property">"middle"</span><span class="token operator">:</span> <span class="token string">"Middle name ng user. Optional."</span><span class="token punctuation">,</span>
        <span class="token property">"last"</span><span class="token operator">:</span> <span class="token string">"Surname ng user. Required."</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"email"</span><span class="token operator">:</span> <span class="token string">"E-mail address ng user. Required."</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Kailangan nating i-format sa ganiyang paraan ang data. Hindi naman ito mahirap.</p>
<pre class="line-numbers language-js"><code class="language-js">form<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'submit'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>

    <span class="token keyword">const</span> formattedData <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            first<span class="token punctuation">:</span> first_name<span class="token punctuation">,</span>
            middle<span class="token punctuation">:</span> middle_name<span class="token punctuation">,</span>
            last<span class="token punctuation">:</span> last_name
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        email<span class="token punctuation">:</span> email_address
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Pagse-send-ng-Request"><a href="#Pagse-send-ng-Request" class="headerlink" title="Pagse-send ng Request"></a>Pagse-send ng Request</h2><p>Ngayon kailangan na nating i-send ang data. Tandaan, ang endpoint natin ay <code>https://www.example.com/api/users/</code>.</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">const</span> endpoint <span class="token operator">=</span> <span class="token string">'https://www.example.com/api/users/'</span><span class="token punctuation">;</span>

<span class="token function">fetch</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    method<span class="token punctuation">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span>
    body<span class="token punctuation">:</span> JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>formattedData<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Sa example na ito, nadagdagan ng arguments ang <code>fetch()</code> function. Sa <a href="/antares-blog/tl/Fetch-API-GET-Requests/" title="nakaraang example">nakaraang example</a> natin, nagpapasa lang tayo ng URL sa <code>fetch()</code> function. Pero dahil gusto nating mag-send ng data, magpapasa tayo ng isa pang parameter: ang <code>options</code> parameter. Maraming laman ang <code>options</code> parameter, pero dalawa lang muna ang gagamitin natin. Kung hindi natin ise-specify ang values ng ibang mga properties ng <code>options</code> parameter, may defaults naman.</p>
<p>Sa example na ito, ginamit natin ang dalawang properties na ito:</p>
<ul>
<li><code>method</code> Ito ang HTTP verb na gagamitin natin. Sa kasong ito, dahil gusto nating mag-send ng data, <code>POST</code> ang ginamit nating verb.</li>
<li><code>body</code> Ito ang data na ise-send natin sa server.</li>
</ul>
<p>May isang limitation sa <code>fetch()</code> function. Kinakailangang <code>FormData</code> object ang ipasa natin sa <code>body</code> property. Pero naka-JSON ang data natin, kaya paano iyon? Bukod sa <code>FormData</code>, tumatanggap din ng JSON ang <code>body</code>, pero kailangang naka-string ito, kaya naman natin tinawag ang <code>JSON.stringify()</code> method. Gagawin nitong string ang data na nasa <code>formattedData</code>.</p>
<h2 id="Challenge"><a href="#Challenge" class="headerlink" title="Challenge"></a>Challenge</h2><p>Itutuloy ko pa sana ang tutorial na ito hanggang sa dulo, pero naisip ko kaparehas na lang naman iyon ng sa <a href="/antares-blog/2018/12/16/Fetch-API-GET-Requests/">unang part ng tutorial na ito</a>. Kaya kunin natin itong magandang chance para makapag-practice na rin. Nagawa na natin ang unang part nito, ang pagse-send ng data. Bakit hindi mo subukang ituloy ang natitirang parts ng tutorial na ito? Ito lang ang kailangan mong gawin:</p>
<ul>
<li>Gamit ang <code>then()</code> method sa <code>Promise</code> object na nire-return ng <code>fetch()</code>, i-display ang success status ng ajax sa <code>&lt;p class=&quot;status&quot;&gt;&lt;/p&gt;</code></li>
<li>Gamit ang <code>catch()</code> method sa <code>Promise</code> object, i-display ang error ng ajax sa <code>&lt;p class=&quot;status&quot;&gt;&lt;/p&gt;</code></li>
</ul>
<p>Ano ang magiging premyo kapag nagawa mo? Validation at self-satisfaction. Salamat sa pagbabasa ng article na ito at sa pagsuporta sa Antares Programming. Magkita ulit tayo sa susunod na artikulo.</p>

  </div>
  <footer class="article-footer">
      
  <div class="article-tags-wrapper">
    <h4>Tags</h4>
    <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/antares-blog/tags/ajax/">ajax</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/antares-blog/tags/fetch/">fetch</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/antares-blog/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/antares-blog/tags/web/">web</a></li></ul>
  </div>

      
  <div class="article-category">
    <h4>Category</h4>
    <a class="article-category-link" href="/antares-blog/categories/JavaScript/">JavaScript</a>
  </div>

  </footer>
</article>
</main>
    
    <footer class="layout layout--footer" role="contentinfo">
  <div class="footer__division">
  <a href="/antares-blog/tungkol-sa-amin">Tungkol sa Antares Programming</a>
  <a href="https://www.facebook.com/antaresprogramming"><i>Antares Programming</i> sa Facebook</a>
  <a href="#">Back to top</a>
  </div>
  <div class="footer__division text-align--right">
    <p>&copy; 2019 Antares Programming</p>
    <p>Reserbado ang lahat ng karapatan.</p>
  </div>
</footer>
<script>
    var CONFIG_ROOT = `/antares-blog/`;
    var CONFIG_URL = `https://celestialcinnamon.github.io/antares-blog`.replace('/antares-blog', '');
</script>

    <script src="/antares-blog/js/ScrollTrigger.min.js"></script>
    <script src="/antares-blog/js/script.js"></script>
    <script src="/antares-blog/js/prism-keep-markup.js"></script>
    



</body>
</html>